<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.7"/>
<title>Consor: Main Page</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">Consor
   &#160;<span id="projectnumber">1</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.7 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li class="current"><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('index.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(11)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">Consor Documentation</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>A console GUI Library, released under the GPLv3 licence. (c) Copyright 2013 Mitchel Collins.</p>
<p>The examples below may assume the namespaces <code>std</code> and <code><a class="el" href="namespaceConsor.html">Consor</a></code> are being used.</p>
<h3>Building</h3>
<p>Execute <code>GenerateProjects.sh</code> or <code>GenerateProjects.bat</code> depending upon your operating system.</p>
<p>Building:</p>
<p>On Linux:</p>
<p>``` cd ./Projects make ``<code> On Windows, open the solution up located in</code>./Projects/`</p>
<p>The output goes to <code>./Binaries/</code> for the binaries, and <code>./Include/Consor/</code> for the headers. To use the libary, you need to place the headers and binaries in the appropriate places (e.g. <code>/usr/include/Consor/</code> maps to <code>./Include/Consor/</code>, and <code>/usr/lib/libConsor.so</code> maps to <code>./Binaries/libConsor.so</code> on Linux).</p>
<h3>Example Usage</h3>
<h4>Positioning and Sizes</h4>
<p>Unlike conventional UI libraries, <a class="el" href="namespaceConsor.html">Consor</a> follows a more 'automated' way of positioning controls. Controls (those that derive from <code><a class="el" href="classConsor_1_1Control.html" title="The base control. ">Consor::Control</a></code>) have no position information relating to that control; everything is positioned using containers. Containers well define how and/or where a control will be drawn, and although it may not determine the controls size, it can influence it. For example, a label's size can't be smaller than the message it holds, however, if you <code>ForceResize(const Size&amp;)</code> the control, the label will attempt to obey the width, but not the height. EG:</p>
<p>```c++ Label label; label.SetText("Hello, world!  How are you on this fabulous day?");</p>
<p>cout &lt;&lt; "label.GetSize() = " &lt;&lt; label.GetSize() &lt;&lt; "\n"; ```</p>
<p>The result of the operation above should yield the output:</p>
<p>``` label.GetSize() = 48, 1 ```</p>
<p>Now, let's say that the label's width should not exceed a width of 30 characters, we can <code>ForceResize(const Size&amp;)</code> the label, and it will wrap its text at the most appropriate places:</p>
<p>```c++ Label label; label.SetText("Hello, world!  How are you on this fabulous day?"); label.ForceResize(Size(30, 1));</p>
<p>cout &lt;&lt; "label.GetSize() = " &lt;&lt; label.GetSize() &lt;&lt; "\n"; ```</p>
<p>The program above should yield the output:</p>
<p>``` label.GetSize() = 28, 3 ```</p>
<p>As we can see, the control's size is now acceptable, but the control is not the desired size (<code>30, 1</code>); this is because a control does not need to obey your force resize instructions, and it is up to you to verify that the control is of a suitable size.</p>
<p>Another, important rule you need to know, is that a control may not render outside of it's designated area. The drawing of elements is strictly positioned relativly, and any attempt to draw outside of these bounds will be clipped and nullified. The controls position will be decided over a cascade of containers (and possibly other controls), of which will arive for you to draw at 0, 0 with the width and height of your control. For example, a <code>ScrollContainer</code> whose client is a <code>FlowContainer</code> will result in your controls position being none-static, but you controll SHOULD never see this level of abstraction.</p>
<p>Please note, an excepion will NOT be thrown upon rendering outside of the render bounds; this is intended behavour, primarily for use with the <code>ScrollContainer</code>. If you absoloutly must, and your control does not influence other controls (such as a tool tip), you may manually adjust the render bounds stack, but this is not advised and strongly discouraged as compatability may break, or it could interfere with other controls.</p>
<h5>Positioning</h5>
<p>While it may be hard to wrap your head around this concept at first, this tree should give you an idea of how it works:</p>
<p>``` WindowContainer ("Flow Test") FlowContainer (Vertical, spacing 1) Label ("Some message can go...") HScrollBar AlignContainer (Horizontal, center) FlowContainer (Horizontal, spacing 1) Button ("OK") Button ("Cancel")</p>
<h1>Button actually consists of:</h1>
<p>Button AlignContainer (Vertical, center) AlignContainer (Horizontal, center) Label (button_text) ``` We can see this layed out as an image here:</p>
<div class="image">
<img src="http://screenshot.xiatek.org/Kobra/1368283806.png"  alt="alt text" title="Layout"/>
</div>
<p>And what it results in:</p>
<div class="image">
<img src="http://screenshot.xiatek.org/Kobra/1368281849.png"  alt="alt text" title="Layout"/>
</div>
<h4>Input System</h4>
<p>The input system provides the standard input <a class="el" href="namespaceConsor.html">Consor</a> will need, and must implement these pure methods:</p>
<p>```c++ using namespace <a class="el" href="namespaceConsor_1_1Input.html">Consor::Input</a>;</p>
<p>bool KeyWaiting(); // is a key waiting on the input buffer? Key GetKeyPress(); // get the next key press (repeats if held) bool ControlDown(); // is control currently pressed? bool ShiftDown(); // is shift currently pressed? ```</p>
<p>Upon input, an event will be generated at the highest level. The event will be passed (recursively) to all clients (down <code>Control::HandleInput(Key, IInputSystem&amp;)</code>); if all clients do not handle the input, then the control checks if itself should handle the input. A control may steal the input before passing to their clients, such as scrolling a <code>ScrollContainer</code> when control is pressed, rather than focus being shifted.</p>
<p>An example of how this would work with a <code>TextBox</code>, and a <code>ScrollContainer</code> is shown below:</p>
<p>``` Structure of top: top ScrollContainer FlowContainer TextBox Button</p>
<p>Key = 'a' top -&gt; ScrollContainer -&gt; FlowContainer (Currently focused: TextBox) -&gt; TextBox &lt;INPUT HANDLED - Key typed&gt;</p>
<p>Key = Key::Down top -&gt; ScrollContainer -&gt; FlowContainer (Currently focused: TextBox) -&gt; TextBox &lt;UNHANDLED&gt; &lt;- &lt;INPUT HANDLED - Focus changed to Button&gt;</p>
<p>Key = Key::Enter top -&gt; ScrollContainer -&gt; FlowContainer (Currently focused: Button) -&gt; Button &lt;INPUT HANDLED - Button clicked&gt;</p>
<p>Key = Key::Down Ctrl = true top -&gt; ScrollContainer &lt;INPUT HANDLED (IF COULD SCROLL) - Scrolled down&gt;</p>
<p>Key = Key::Escape top -&gt; ScrollContainer -&gt; FlowContainer (Currently focused: Button) -&gt; Button &lt;UNHANDLED&gt; &lt;- &lt;UNHANDLED&gt; &lt;- &lt;UNHANDLED - Exhausted&gt; ```</p>
<h4>The Window System</h4>
<p>The current Window System that is inbuilt into <a class="el" href="namespaceConsor.html">Consor</a> positions any control into a desirable, or requested position.</p>
<p>A position requested of -1, -1 should be centered, and those in the range of 0 to 1 (0 to 1 not implimented yet) should be positioned said percentage along the screen. So <code>(-1.0, 2.0/3.0)</code> will be positioned center X, and 2/3rds down the screen.</p>
<p>The idea of <code>WindowSystem</code> is to provide a simple and generic way to create a window for the user (for Prompts, etc...), you may expand or replace <code><a class="el" href="namespaceConsor_1_1WindowSystem.html">Consor::WindowSystem</a></code> with your own. The easiest way to achive this, would be to create a blank control of the same size of the console (<code>IConsoleRenderer::GetSize()</code>) and use it as your base window system. This keeps compatibility with prompts (<code>MessageBox</code>, <code>ChoiceList</code>, and <code>InputBox</code>) and any other applications that may use the same instance of <code>WindowSystem</code>, while allowing you to build upon your own canvas.</p>
<p>The window system also impliments support for hot keys via the use of <code>WindowSystem::RegisterHotKey(Control* pControl, Input::Key Key, bool Shift, bool Ctrl, std::function&lt;void()&gt; Callback)</code>. Upon the key combo being pressed, <code>Callback</code> will be invoked; if <code>WindowSystem::UnregisterWindow(Control* pControl)</code>'s pControl matches an existing hot key, then the hot key will be removed. </p>
</div></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Wed Aug 13 2014 02:46:23 for Consor by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.7 </li>
  </ul>
</div>
</body>
</html>
